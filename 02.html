<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë…ë„ ì—­ì‚¬ ì¸í„°ë™í‹°ë¸Œ ì—°í‘œ</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Fonts: Gaegu (Cute/Round), Noto Sans KR -->
    <link href="https://fonts.googleapis.com/css2?family=Gaegu:wght@400;700&family=Noto+Sans+KR:wght@300;400;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --sea-blue: #0ea5e9;
            --deep-sea: #0369a1;
            --soft-sky: #e0f2fe;
        }

        /* í°íŠ¸ ì ìš©: Gaegu í°íŠ¸ë¥¼ ì œëª©ê³¼ ì£¼ìš” UIì— ì ìš© */
        .font-cute {
            font-family: 'Gaegu', cursive;
            font-weight: 700;
        }
        
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: linear-gradient(180deg, var(--soft-sky) 0%, #ffffff 100%);
            background-attachment: fixed;
            overflow-x: hidden;
        }

        /* ë°”ë‹¤ ë¬¼ê²° ì• ë‹ˆë©”ì´ì…˜ ë°°ê²½ */
        .ocean-waves {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 150px;
            background: url('https://www.transparenttextures.com/patterns/waves.png');
            opacity: 0.1;
            z-index: -1;
            animation: waveMove 20s linear infinite;
        }

        @keyframes waveMove {
            from { background-position: 0 0; }
            to { background-position: 1000px 0; }
        }

        /* ë…ë„ ì‹¤ë£¨ì—£ (CSSë¡œ êµ¬í˜„) */
        .dokdo-island {
            position: fixed;
            bottom: 20px;
            right: 5%;
            width: 400px;
            height: 120px;
            background: linear-gradient(to top, #444, #777);
            clip-path: polygon(10% 100%, 30% 40%, 45% 70%, 60% 20%, 80% 60%, 95% 100%);
            opacity: 0.15;
            z-index: -1;
        }

        /* ì—°ë„ë³„ ì¸í„°ë ‰í‹°ë¸Œ íƒ€ì„ë¼ì¸ ì»¤ìŠ¤í…€ ìŠ¤íƒ€ì¼ */
        .timeline-container {
            position: relative;
            padding-left: 2rem;
        }
        .timeline-line {
            position: absolute;
            left: 0.5rem;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(to bottom, var(--sea-blue), var(--soft-sky));
            border-radius: 2px;
        }

        .event-card {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            border: 2px solid transparent;
        }
        .event-card:hover {
            transform: scale(1.02);
            border-color: var(--sea-blue);
            background-color: white;
            box-shadow: 0 10px 25px -5px rgba(0,0,0,0.1);
        }
        .event-card.active {
            border-color: var(--deep-sea);
            background-color: white;
            box-shadow: 0 10px 30px -5px rgba(14, 165, 233, 0.3);
        }

        /* Chart Styling */
        .chart-wrapper {
            position: relative;
            height: 350px;
            width: 100%;
        }

        /* ìŠ¤í¬ë¡¤ë°” ë””ìì¸ */
        .custom-scroll::-webkit-scrollbar { width: 8px; }
        .custom-scroll::-webkit-scrollbar-track { background: rgba(0,0,0,0.05); }
        .custom-scroll::-webkit-scrollbar-thumb { background: var(--sea-blue); border-radius: 10px; }

        /* í™ˆ ë²„íŠ¼ ì „ìš© ìŠ¤íƒ€ì¼ */
        .home-link {
            transition: all 0.3s ease;
            text-decoration: none;
        }
        .home-link:hover {
            transform: translateY(-2px) scale(1.05);
        }
    </style>
</head>
<body class="text-stone-800 antialiased">

    <div class="ocean-waves"></div>
    <div class="dokdo-island"></div>

    <div class="max-w-6xl mx-auto px-6 py-8 min-h-screen flex flex-col relative">

        <!-- Home Button (Top Right) - Links to index.html -->
        <div class="absolute top-8 right-6">
            <a href="index.html" class="home-link font-cute flex items-center gap-2 bg-white px-6 py-3 rounded-full text-xl text-sky-700 shadow-md border-2 border-sky-100 hover:bg-sky-50">
                <span>ğŸ </span> í™ˆìœ¼ë¡œ
            </a>
        </div>

        <!-- Header -->
        <header class="mb-16 text-center pt-10">
            <div class="inline-block px-5 py-2 bg-sky-500 text-white rounded-full text-sm font-bold mb-6 shadow-lg transform hover:rotate-2 transition-transform cursor-default">
                ğŸ‡°ğŸ‡· ë™í•´ì˜ ì•„ë¦„ë‹¤ìš´ ìš°ë¦¬ ë•…
            </div>
            <h1 class="text-6xl md:text-8xl text-sky-900 font-cute mb-6 drop-shadow-sm">ë…ë„ ì—­ì‚¬ ë‚˜ë“¤ì´</h1>
            <p class="text-xl text-stone-600 max-w-2xl mx-auto leading-relaxed font-medium">
                ê·€ì—¬ìš´ ì—°í‘œì™€ í•¨ê»˜ ë– ë‚˜ëŠ” ë…ë„ ì‹œê°„ ì—¬í–‰!<br>
                ì—°ë„ë¥¼ í´ë¦­í•´ì„œ ë…ë„ì˜ ì†Œì¤‘í•œ ê¸°ë¡ë“¤ì„ ë§Œë‚˜ë³´ì„¸ìš”.
            </p>
        </header>

        <!-- Interactive Summary Section -->
        <section class="grid grid-cols-1 lg:grid-cols-12 gap-8 mb-16">
            <div class="lg:col-span-4 flex flex-col justify-center space-y-6">
                <div class="bg-white/90 backdrop-blur p-8 rounded-[2rem] shadow-sm border-2 border-sky-100">
                    <h2 class="text-3xl font-cute text-sky-800 mb-4">ì–´ëŠ ì‹œëŒ€ê°€ ê¶ê¸ˆí•˜ì„¸ìš”?</h2>
                    <p class="text-stone-500 mb-6">ì˜¤ë¥¸ìª½ ê·¸ë˜í”„ì˜ ê¸°ë‘¥ì„ ëˆ„ë¥´ë©´ í•´ë‹¹ ì‹œëŒ€ì˜ ì—°í‘œë¡œ ë¹ ë¥´ê²Œ ì´ë™í•©ë‹ˆë‹¤.</p>
                    <div id="eraNav" class="grid grid-cols-2 gap-3">
                        <!-- JSë¡œ ë²„íŠ¼ ìƒì„± -->
                    </div>
                </div>
            </div>
            <div class="lg:col-span-8 bg-white/80 backdrop-blur p-8 rounded-[2rem] shadow-sm border-2 border-white flex flex-col justify-center">
                <div class="chart-wrapper">
                    <canvas id="historyChart"></canvas>
                </div>
                <p class="text-center text-xs text-stone-400 mt-4 font-bold">* ì°¨íŠ¸ì˜ ë§‰ëŒ€ë¥¼ í´ë¦­í•˜ë©´ í•´ë‹¹ ì‹œëŒ€ë¡œ í•„í„°ë§ë©ë‹ˆë‹¤.</p>
            </div>
        </section>

        <!-- Main Content Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-10 items-start">
            
            <!-- Left: Timeline (Year-by-Year) -->
            <div class="lg:col-span-7">
                <div class="flex items-center justify-between mb-8 px-4">
                    <h2 class="text-3xl font-cute text-stone-800">ğŸ•°ï¸ ì—°ë„ë³„ ê¸°ë¡</h2>
                    <button onclick="resetFilter()" class="text-xs font-bold text-sky-600 hover:underline">ì „ì²´ ë³´ê¸°</button>
                </div>
                
                <div class="timeline-container">
                    <div class="timeline-line"></div>
                    <div id="timelineContent" class="space-y-6 max-h-[800px] overflow-y-auto pr-4 custom-scroll">
                        <!-- Events injected here -->
                    </div>
                </div>
            </div>

            <!-- Right: Detailed Viewer -->
            <div class="lg:col-span-5 sticky top-10">
                <div id="detailCard" class="bg-gradient-to-br from-sky-500 to-deep-sea text-white rounded-[2.5rem] p-10 shadow-2xl min-h-[400px] flex flex-col justify-center transform transition-all duration-500">
                    <div id="detailViewDefault">
                        <div class="text-6xl mb-6">ğŸ³</div>
                        <h3 class="text-4xl font-cute mb-4">íŒŒë„ë¥¼ ë”°ë¼<br>ê¸°ë¡ì„ í™•ì¸í•´ìš”!</h3>
                        <p class="text-sky-100 text-lg leading-relaxed">ì™¼ìª½ ì—°í‘œì—ì„œ ê´€ì‹¬ ìˆëŠ” ì—°ë„ì˜ ì‚¬ê±´ì„ í´ë¦­í•´ë³´ì„¸ìš”. ìƒì„¸í•œ ì´ì•¼ê¸°ê°€ ì´ê³³ì— ë‚˜íƒ€ë‚©ë‹ˆë‹¤.</p>
                    </div>
                    <div id="detailViewActive" class="hidden animate-in fade-in slide-in-from-right-10">
                        <!-- Active content here -->
                    </div>
                </div>
                
                <!-- Quick Tips -->
                <div class="mt-8 bg-amber-50 rounded-3xl p-6 border-2 border-amber-100">
                    <h4 class="font-cute text-amber-800 text-xl mb-2">ğŸ’¡ ì•Œê³  ê³„ì…¨ë‚˜ìš”?</h4>
                    <p class="text-amber-700 text-sm leading-relaxed">ë…ë„ëŠ” ì§€ì§ˆí•™ì ìœ¼ë¡œ ìš¸ë¦‰ë„ë³´ë‹¤ 200ë§Œ ë…„ì´ë‚˜ ë” ì¼ì° íƒœì–´ë‚œ 'í˜•ë‹˜' ì„¬ì´ëë‹ˆë‹¤!</p>
                </div>
            </div>
        </div>

        <footer class="mt-24 py-12 text-center">
            <div class="flex justify-center gap-4 mb-6">
                <div class="w-12 h-12 bg-sky-200 rounded-full flex items-center justify-center text-2xl">ğŸŒŠ</div>
                <div class="w-12 h-12 bg-sky-300 rounded-full flex items-center justify-center text-2xl">ğŸš</div>
                <div class="w-12 h-12 bg-sky-400 rounded-full flex items-center justify-center text-2xl">ğŸ¦€</div>
            </div>
            <p class="text-stone-400 font-bold font-cute text-xl">ìš°ë¦¬ ë•… ë…ë„ì˜ ì—­ì‚¬ëŠ” ì˜¤ëŠ˜ë„ ê³„ì†ë©ë‹ˆë‹¤.</p>
        </footer>

    </div>

    <script>
        const dokdoData = [
            { id: 't1', year: 'Ancient', date: 'ì•½ 460~250ë§Œë…„ ì „', title: 'ë…ë„ì˜ íƒ„ìƒ', desc: 'í•´ì € í™”ì‚° í™œë™ìœ¼ë¡œ ì¸í•´ ìš¸ë¦‰ë„ë‚˜ ì œì£¼ë„ë³´ë‹¤ í›¨ì”¬ ì•ì„œ í˜•ì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ë™í•´ì˜ ê°€ì¥ ì˜¤ë˜ëœ ì„¬ì´ì£ !', era: 'ê³ ëŒ€', icon: 'ğŸŒ‹' },
            { id: 't2', year: '1454', date: '1454ë…„', title: 'ì„¸ì¢…ì‹¤ë¡ì§€ë¦¬ì§€', desc: '"ìš°ì‚°(ë…ë„)ê³¼ ë¬´ë¦‰(ìš¸ë¦‰ë„) ë‘ ì„¬ì´ ì„œë¡œ ë©€ë¦¬ ë–¨ì–´ì ¸ ìˆì§€ ì•Šì•„ ë‚ ì”¨ê°€ ë§‘ìœ¼ë©´ ë°”ë¼ë³¼ ìˆ˜ ìˆë‹¤"ê³  ê¸°ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.', era: 'ì¡°ì„ ', icon: 'ğŸ“–' },
            { id: 't3', year: '1481', date: '1481ë…„', title: 'íŒ”ë„ì´ë„ ì œì‘', desc: 'ì¡°ì„  ì „ê¸°ì˜ ì§€ë„ì¸ íŒ”ë„ì´ë„ì— ë…ë„ê°€ ìš°ë¦¬ ì˜í† ë¡œ ëª…í™•íˆ í‘œê¸°ë˜ì—ˆìŠµë‹ˆë‹¤.', era: 'ì¡°ì„ ', icon: 'ğŸ—ºï¸' },
            { id: 't4', year: '1667', date: '1667ë…„', title: 'ì€ì£¼ì‹œì²­í•©ê¸° (ì¼ë³¸)', desc: 'ì¼ë³¸ ì˜¤í‚¤ì„¬ì˜ ê´€ë¦¬ê°€ ë…ë„ì™€ ìš¸ë¦‰ë„ëŠ” ì¡°ì„ ì˜ ë•…ì´ê³  ì¼ë³¸ì˜ ê²½ê³„ëŠ” ì˜¤í‚¤ì„¬ê¹Œì§€ë¼ê³  ê¸°ë¡í–ˆìŠµë‹ˆë‹¤.', era: 'ì¡°ì„ ', icon: 'âœï¸' },
            { id: 't5', year: '1693', date: '1693ë…„', title: 'ì•ˆìš©ë³µì˜ í™œì•½', desc: 'ì•ˆìš©ë³µ ì„ ìƒì´ ì¼ë³¸ì— ì§ì ‘ ê±´ë„ˆê°€ ë…ë„ê°€ ì¡°ì„  ë•…ì„ì„ í™•ì•½ë°›ê³  ëŒì•„ì˜¨ ìš©ê¸° ìˆëŠ” ì‚¬ê±´ì…ë‹ˆë‹¤.', era: 'ì¡°ì„ ', icon: 'âš“' },
            { id: 't6', year: '1696', date: '1696ë…„', title: 'ë„í•´ ê¸ˆì§€ë ¹', desc: 'ì¼ë³¸ ì—ë„ ë§‰ë¶€ê°€ ìêµ­ ì–´ë¯¼ë“¤ì˜ ìš¸ë¦‰ë„ì™€ ë…ë„ ì¶œì…ì„ ê³µì‹ì ìœ¼ë¡œ ê¸ˆì§€í–ˆìŠµë‹ˆë‹¤.', era: 'ì¡°ì„ ', icon: 'ğŸš«' },
            { id: 't7', year: '1877', date: '1877ë…„', title: 'íƒœì •ê´€ ì§€ë ¹', desc: 'ì¼ë³¸ ìµœê³  êµ­ê°€ê¸°ê´€ì´ "ë…ë„ëŠ” ì¼ë³¸ê³¼ ê´€ê³„ê°€ ì—†ë‹¤"ëŠ” ê²ƒì„ ê³µì‹ì ìœ¼ë¡œ ì§€ì‹œí–ˆìŠµë‹ˆë‹¤.', era: 'ì¡°ì„ ', icon: 'ğŸ“œ' },
            { id: 't8', year: '1900', date: '1900ë…„ 10ì›” 25ì¼', title: 'ëŒ€í•œì œêµ­ ì¹™ë ¹ ì œ41í˜¸', desc: 'ê³ ì¢… í™©ì œê°€ ë…ë„ë¥¼ ìš¸ë„êµ°ì˜ ê´€í•  êµ¬ì—­ìœ¼ë¡œ ëª…ë¬¸í™”í•˜ì—¬ ì˜ìœ ê¶Œì„ ì„ í¬í–ˆìŠµë‹ˆë‹¤.', era: 'ëŒ€í•œì œêµ­', icon: 'ğŸ‘‘' },
            { id: 't9', year: '1905', date: '1905ë…„', title: 'ì‹œë§ˆë„¤í˜„ ê³ ì‹œ', desc: 'ì¼ë³¸ì´ ëŸ¬ì¼ì „ìŸ ì¤‘ ë¶ˆë²•ì ìœ¼ë¡œ ë…ë„ë¥¼ ìê¸°ë„¤ ë•…ì´ë¼ ì£¼ì¥í•˜ë©° ê³ ì‹œí–ˆìŠµë‹ˆë‹¤.', era: 'ëŒ€í•œì œêµ­', icon: 'âš ï¸' },
            { id: 't10', year: '1906', date: '1906ë…„', title: 'ì‹¬í¥íƒ êµ°ìˆ˜ì˜ ë³´ê³ ', desc: 'ìš¸ë¦‰êµ°ìˆ˜ ì‹¬í¥íƒì´ "ë³¸êµ° ì†Œì† ë…ë„"ë¼ë©° ì¼ë³¸ì˜ ì¹¨íƒˆ ì‹œë„ë¥¼ ì¤‘ì•™ ì •ë¶€ì— ì¦‰ê° ë³´ê³ í–ˆìŠµë‹ˆë‹¤.', era: 'ëŒ€í•œì œêµ­', icon: 'ğŸ“£' },
            { id: 't11', year: '1946', date: '1946ë…„ 1ì›”', title: 'SCAPIN ì œ677í˜¸', desc: 'ì—°í•©êµ° ìµœê³ ì‚¬ë ¹ë¶€ê°€ ë…ë„ë¥¼ ì¼ë³¸ì˜ í†µì¹˜ ë²”ìœ„ì—ì„œ ì™„ì „íˆ ì œì™¸ì‹œì¼°ìŠµë‹ˆë‹¤.', era: 'ê´‘ë³µ', icon: 'ğŸ•Šï¸' },
            { id: 't12', year: '1951', date: '1951ë…„', title: 'í‰í™”ì„  ì„ í¬', desc: 'ëŒ€í•œë¯¼êµ­ ì •ë¶€ê°€ í‰í™”ì„ ì„ ì„ í¬í•˜ë©° ë…ë„ê°€ ìš°ë¦¬ ì£¼ê¶Œì˜ ë²”ìœ„ì„ì„ ì¬í™•ì¸í–ˆìŠµë‹ˆë‹¤.', era: 'ê´‘ë³µ', icon: 'ğŸŒŠ' },
            { id: 't13', year: '1953', date: '1953ë…„', title: 'ë…ë„ì˜ìš©ìˆ˜ë¹„ëŒ€ í™œë™', desc: 'ë¯¼ê°„ì¸ë“¤ì´ ìë°œì ìœ¼ë¡œ ë…ë„ë¥¼ ì§€í‚¤ê¸° ìœ„í•´ í™œë™ì„ ì‹œì‘í–ˆìŠµë‹ˆë‹¤.', era: 'ê´‘ë³µ', icon: 'ğŸ›¡ï¸' },
            { id: 't14', year: '1954', date: '1954ë…„', title: 'ë…ë„ ë“±ëŒ€ ì ë“±', desc: 'ìš°ë¦¬ë‚˜ë¼ê°€ ë…ë„ì— ë“±ëŒ€ë¥¼ ì„¤ì¹˜í•˜ì—¬ í•­í•´í•˜ëŠ” ë°°ë“¤ì—ê²Œ ê¸¸ì„ ì•ˆë‚´í•˜ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤.', era: 'ê´‘ë³µ', icon: 'ğŸ’¡' },
            { id: 't15', year: '1981', date: '1981ë…„', title: 'ìµœì´ˆ ì£¼ë¯¼ë“±ë¡', desc: 'ìµœì¢…ë• ì”¨ê°€ ë…ë„ë¡œ ì£¼ë¯¼ë“±ë¡ì„ ì´ì „í•˜ë©° ìµœì´ˆì˜ ë…ë„ ì£¼ë¯¼ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.', era: 'í˜„ëŒ€', icon: 'ğŸ ' },
            { id: 't16', year: '2005', date: '2005ë…„', title: 'ë…ë„ ê°œë°©', desc: 'ì¼ë°˜ êµ­ë¯¼ë“¤ì´ ë…ë„ì— ììœ ë¡­ê²Œ ë°©ë¬¸í•˜ì—¬ ìš°ë¦¬ ë•…ì„ ì§ì ‘ ë°Ÿì•„ë³¼ ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.', era: 'í˜„ëŒ€', icon: 'ğŸš¢' },
            { id: 't17', year: '2020', date: 'í˜„ì¬', title: 'ì‹¤íš¨ì  ì§€ë°° ì§€ì†', desc: 'ë…ë„ê²½ë¹„ëŒ€ì™€ ë…ë„ë“±ëŒ€ ê´€ë¦¬ì› ë“± ìš°ë¦¬ êµ­ë¯¼ë“¤ì´ ë…ë„ë¥¼ ë‹¹ë‹¹íˆ ì§€í‚¤ê³  ìˆìŠµë‹ˆë‹¤.', era: 'í˜„ëŒ€', icon: 'ğŸ‡°ğŸ‡·' }
        ];

        const eraColors = {
            'ê³ ëŒ€': '#94a3b8',
            'ì¡°ì„ ': '#f59e0b',
            'ëŒ€í•œì œêµ­': '#ef4444',
            'ê´‘ë³µ': '#0ea5e9',
            'í˜„ëŒ€': '#6366f1'
        };

        let currentFilter = 'ì „ì²´';
        let chart = null;

        function initChart() {
            const ctx = document.getElementById('historyChart').getContext('2d');
            const eras = ['ê³ ëŒ€', 'ì¡°ì„ ', 'ëŒ€í•œì œêµ­', 'ê´‘ë³µ', 'í˜„ëŒ€'];
            const data = eras.map(e => dokdoData.filter(d => d.era === e).length);

            chart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: eras,
                    datasets: [{
                        label: 'ê¸°ë¡ ìˆ˜',
                        data: data,
                        backgroundColor: Object.values(eraColors),
                        borderRadius: 15,
                        hoverBorderWidth: 4,
                        hoverBorderColor: '#fff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    onClick: (e, elements) => {
                        if (elements.length > 0) {
                            const index = elements[0].index;
                            applyFilter(eras[index]);
                        }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            backgroundColor: '#0f172a',
                            titleFont: { family: 'Gaegu', size: 24 },
                            bodyFont: { family: 'Noto Sans KR', size: 14 },
                            callbacks: {
                                label: (c) => ` ${c.raw}ê°œì˜ ì—­ì‚¬ì  ê¸°ë¡ì´ ìˆì–´ìš”!`
                            }
                        }
                    },
                    scales: {
                        y: { beginAtZero: true, display: false },
                        x: { 
                            grid: { display: false },
                            ticks: { 
                                font: { family: 'Gaegu', size: 22, weight: 'bold' },
                                color: '#475569'
                            }
                        }
                    }
                }
            });
        }

        function renderEraNav() {
            const container = document.getElementById('eraNav');
            const eras = ['ì¡°ì„ ', 'ëŒ€í•œì œêµ­', 'ê´‘ë³µ', 'í˜„ëŒ€'];
            container.innerHTML = eras.map(era => `
                <button onclick="applyFilter('${era}')" class="font-cute px-4 py-2 bg-white border-2 border-sky-100 rounded-2xl text-xl text-sky-800 hover:bg-sky-50 transition-colors shadow-sm">
                    # ${era}
                </button>
            `).join('');
        }

        function applyFilter(era) {
            currentFilter = era;
            renderTimeline();
            document.getElementById('timelineContent').scrollTop = 0;
        }

        function resetFilter() {
            currentFilter = 'ì „ì²´';
            renderTimeline();
        }

        function renderTimeline() {
            const container = document.getElementById('timelineContent');
            const filtered = currentFilter === 'ì „ì²´' ? dokdoData : dokdoData.filter(d => d.era === currentFilter);
            
            container.innerHTML = filtered.map(item => `
                <div class="event-card bg-white/60 backdrop-blur p-5 rounded-3xl mb-4" onclick="showDetail('${item.id}')" id="card-${item.id}">
                    <div class="flex items-center gap-4">
                        <div class="w-14 h-14 rounded-2xl bg-sky-100 flex items-center justify-center text-3xl shadow-inner">
                            ${item.icon}
                        </div>
                        <div>
                            <div class="text-xs font-bold text-sky-600 mb-0.5">${item.date}</div>
                            <h4 class="font-cute text-2xl text-stone-800">${item.title}</h4>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function showDefaultDetail() {
            document.getElementById('detailViewDefault').classList.remove('hidden');
            document.getElementById('detailViewActive').classList.add('hidden');
            document.querySelectorAll('.event-card').forEach(c => c.classList.remove('active'));
        }

        function showDetail(id) {
            const item = dokdoData.find(d => d.id === id);
            const defaultView = document.getElementById('detailViewDefault');
            const activeView = document.getElementById('detailViewActive');
            
            document.querySelectorAll('.event-card').forEach(c => c.classList.remove('active'));
            document.getElementById(`card-${id}`)?.classList.add('active');

            defaultView.classList.add('hidden');
            activeView.classList.remove('hidden');

            activeView.innerHTML = `
                <div class="space-y-6">
                    <div class="flex items-center gap-3">
                        <span class="px-4 py-1 bg-white/20 rounded-full text-xs font-bold">${item.era}</span>
                        <span class="text-sky-200 text-sm font-bold">${item.date}</span>
                    </div>
                    <h3 class="text-5xl font-cute leading-tight">${item.title}</h3>
                    <div class="bg-white/10 rounded-[2rem] p-6 border border-white/20">
                        <p class="text-xl leading-relaxed text-white">${item.desc}</p>
                    </div>
                    <div class="flex items-center gap-2 text-sky-200">
                        <span class="text-3xl">${item.icon}</span>
                        <span class="text-sm font-bold">ê¸°ë¡ ë²ˆí˜¸ #${item.id}</span>
                    </div>
                </div>
            `;
        }

        window.onload = () => {
            initChart();
            renderEraNav();
            renderTimeline();
            // ê¸°ë³¸ ì„ íƒ
            setTimeout(() => showDetail('t8'), 300);
        };
    </script>
</body>
</html>
